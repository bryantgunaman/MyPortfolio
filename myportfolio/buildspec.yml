version: 0.2

phases: 
    install:
        commands:
        # install node 12
        - echo Installing Node 12...
        - curl -sL https://rpm.nodesource.com/setup_12.x | bash -
        # install yarn 
        - echo Installing Yarn...
        - curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
        - echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
        - apt install --no-install-recommends yarn
    prebuild:
        commands:
        # install dependencies
        - echo Installing Dependencies...
        - yarn 
    
    build:
        commands:
        # test
        - echo Testing... 
        - yarn test 
        # build
        - echo Building... 
        - yarn build
artifacts:
    files:
        -"**/*"
    discard-paths: no
    base-directory: dist

